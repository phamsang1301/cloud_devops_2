pool:
  name: "docker-ubuntu-pool"
resources:
  repositories: 
    - repository: templates 
      type: github
      name: phamsang1301/cloud_devops_2
      endpoint: github.com_phamsang1301
      ref: main
trigger:
- main
jobs:
- job: build
  steps:
steps:
  - task: UsePythonVersion@0
    inputs:
      versionSpec: '$(pythonVersion)'
      addToPath: true

  - script: |
      python -m pip install --upgrade pip
      pip install -r requirements.txt
    displayName: 'Install dependencies'

  # - task: ArchiveFiles@2
  #   inputs:
  #     rootFolderOrFile: '$(Build.SourcesDirectory)'
  #     includeRootFolder: false
  #     archiveType: 'zip'
  #     archiveFile: '$(Build.ArtifactStagingDirectory)/flask_app.zip'
  #     replaceExistingArchive: true
  #   displayName: 'Archive Flask App'

  # - task: PublishBuildArtifacts@1
  #   inputs:
  #     PathtoPublish: '$(Build.ArtifactStagingDirectory)/flask_app.zip'
  #     ArtifactName: 'drop'
  #     publishLocation: 'Container'
  #   displayName: 'Publish Build Artifacts'

  # - task: AzureWebApp@1
  #   inputs:
  #     azureSubscription: '<Your Azure Subscription>'
  #     appType: 'webApp'
  #     appName: '<Your App Service Name>'
  #     package: '$(Build.ArtifactStagingDirectory)/flask_app.zip'
  #   displayName: 'Deploy to Azure Web App'